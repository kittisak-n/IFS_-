{"remainingRequest":"C:\\Users\\HIGH\\Desktop\\New_Git_INFS\\INFS_Front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HIGH\\Desktop\\New_Git_INFS\\INFS_Front\\src\\views\\MDS\\MDS_disbursement\\MDS_disbursement_form.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\HIGH\\Desktop\\New_Git_INFS\\INFS_Front\\src\\views\\MDS\\MDS_disbursement\\MDS_disbursement_form.vue","mtime":1616052285147},{"path":"C:\\Users\\HIGH\\Desktop\\New_Git_INFS\\INFS_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\HIGH\\Desktop\\New_Git_INFS\\INFS_Front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\HIGH\\Desktop\\New_Git_INFS\\INFS_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\HIGH\\Desktop\\New_Git_INFS\\INFS_Front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAicmV2ZWFsX2Zvcm0iLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBjb2x1bW5zX21hdGVyaWFsOiBbDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogIuC4peC4s+C4lOC4seC4miIsDQogICAgICAgICAgZGF0YUluZGV4OiAia2V5IiwNCiAgICAgICAgICBrZXk6ICJrZXkiLA0KICAgICAgICAgIHdpZHRoOiAiNSUiLA0KICAgICAgICAgIHNjb3BlZFNsb3RzOiB7DQogICAgICAgICAgICBjdXN0b21SZW5kZXI6ICJrZXkiLA0KICAgICAgICAgIH0sDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogIuC4p+C4seC4quC4lOC4uCIsDQogICAgICAgICAgZGF0YUluZGV4OiAibWF0ZXJpYWxfbmFtZSIsDQogICAgICAgICAga2V5OiAibWF0ZXJpYWxfbmFtZSIsDQogICAgICAgICAgd2lkdGg6ICIxNSUiLA0KICAgICAgICAgIHNjb3BlZFNsb3RzOiB7DQogICAgICAgICAgICBjdXN0b21SZW5kZXI6ICJtYXRlcmlhbF9uYW1lIiwNCiAgICAgICAgICB9LA0KICAgICAgICB9LA0KICAgICAgICB7DQogICAgICAgICAgdGl0bGU6ICLguKvguJnguYjguKfguKIiLA0KICAgICAgICAgIGRhdGFJbmRleDogIm1hdGVyaWFsX3VuaXQiLA0KICAgICAgICAgIGtleTogIm1hdGVyaWFsX3VuaXQiLA0KICAgICAgICAgIHdpZHRoOiAiMTAlIiwNCiAgICAgICAgICBzY29wZWRTbG90czogew0KICAgICAgICAgICAgY3VzdG9tUmVuZGVyOiAibWF0ZXJpYWxfdW5pdCIsDQogICAgICAgICAgfSwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAi4LiI4Liz4LiZ4Lin4LiZ4Lin4Lix4Liq4LiU4Li4IiwNCiAgICAgICAgICBjaGlsZHJlbjogWw0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICB0aXRsZTogIuC4iOC4s+C4meC4p+C4meC4hOC4h+C5gOC4q+C4peC4t+C4rSIsDQogICAgICAgICAgICAgIGRhdGFJbmRleDogIm1hdGVyaWFsX2JhbGFuY2UiLA0KICAgICAgICAgICAgICBrZXk6ICJtYXRlcmlhbF9iYWxhbmNlIiwNCiAgICAgICAgICAgICAgd2lkdGg6ICIxMCUiLA0KICAgICAgICAgICAgICBzY29wZWRTbG90czogeyBjdXN0b21SZW5kZXI6ICJtYXRlcmlhbF9iYWxhbmNlIiB9LA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgdGl0bGU6ICLguIjguLPguJnguKfguJnguYDguJrguLTguIEiLA0KICAgICAgICAgICAgICBkYXRhSW5kZXg6ICJtYXRlcmlhbF9yZXZlYWwiLA0KICAgICAgICAgICAgICBrZXk6ICJtYXRlcmlhbF9yZXZlYWwiLA0KICAgICAgICAgICAgICB3aWR0aDogIjEwJSIsDQogICAgICAgICAgICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogIm1hdGVyaWFsX3JldmVhbCIgfSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgXSwNCiAgICAgICAgfSwNCiAgICAgICAgew0KICAgICAgICAgIHRpdGxlOiAi4Lir4Lih4Liy4Lii4LmA4Lir4LiV4Li4IiwNCiAgICAgICAgICBkYXRhSW5kZXg6ICJtYXRlcmlhbF9ub3RlIiwNCiAgICAgICAgICBrZXk6ICJtYXRlcmlhbF9ub3RlIiwNCiAgICAgICAgICB3aWR0aDogIjEwJSIsDQogICAgICAgICAgc2NvcGVkU2xvdHM6IHsNCiAgICAgICAgICAgIGN1c3RvbVJlbmRlcjogIm1hdGVyaWFsX25vdGUiLA0KICAgICAgICAgIH0sDQogICAgICAgIH0sDQogICAgICAgIHsNCiAgICAgICAgICB0aXRsZTogIiIsDQogICAgICAgICAgZGF0YUluZGV4OiAiYWN0aW9uIiwNCiAgICAgICAgICBrZXk6ICJhY3Rpb24iLA0KICAgICAgICAgIHdpZHRoOiAiNSUiLA0KICAgICAgICAgIHNjb3BlZFNsb3RzOiB7IGN1c3RvbVJlbmRlcjogImFjdGlvbiIgfSwNCiAgICAgICAgfSwNCiAgICAgIF0sDQogICAgICBtYXRlcmlhbDogew0KICAgICAgICBtYXRlcmlhbF9ub3RlOiB1bmRlZmluZWQsDQogICAgICAgIG1hdGVyaWFsX2xpc3Q6IFsNCiAgICAgICAgICB7DQogICAgICAgICAgICBrZXk6IDEsDQogICAgICAgICAgICBtYXRlcmlhbF9pZDogdW5kZWZpbmVkLA0KICAgICAgICAgICAgbWF0ZXJpYWxfcmV2ZWFsOiAxLA0KICAgICAgICAgICAgbWF0ZXJpYWxfbm90ZTogdW5kZWZpbmVkLA0KICAgICAgICAgIH0sDQogICAgICAgIF0sDQogICAgICAgIHJlcXVpc2l0aW9uX2NyZWF0ZV9ieTogdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VyX2lkLA0KICAgICAgfSwNCiAgICAgIGtleW1hdGVyaWFsX2xpc3Q6IDIsDQogICAgICBvcHRpb25NYXRlcmlhbDogW10sDQogICAgfTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGFkZFJlY29yZG1hdGVyaWFsKCkgew0KICAgICAgdGhpcy5tYXRlcmlhbC5tYXRlcmlhbF9saXN0LnB1c2goew0KICAgICAgICBrZXk6IHRoaXMua2V5bWF0ZXJpYWxfbGlzdCwNCiAgICAgICAgbWF0ZXJpYWxfaWQ6IHVuZGVmaW5lZCwNCiAgICAgICAgbWF0ZXJpYWxfcmV2ZWFsOiAxLA0KICAgICAgICBtYXRlcmlhbF9ub3RlOiB1bmRlZmluZWQsDQogICAgICB9KTsNCiAgICAgIHRoaXMua2V5bWF0ZXJpYWxfbGlzdCsrOw0KICAgIH0sDQogICAgZ2V0TWF0ZXJpYWwoKSB7DQogICAgICBjb25zdCBzZWxmID0gdGhpczsNCiAgICAgIGF4aW9zDQogICAgICAgIC5wb3N0KHNlbGYuJHN0b3JlLnN0YXRlLnVybCArICIvbWF0ZXJpYWxSb3V0ZXJzL2dldE1hdGVyaWFsT3B0aW9uIikNCiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzKSB7DQogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsNCiAgICAgICAgICBjb25zdCBkYXRhID0gcmVzLmRhdGEucmVzdWx0czsNCiAgICAgICAgICBzZWxmLm9wdGlvbk1hdGVyaWFsID0gW107DQogICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGVsZSwgaW5kZXgpIHsNCiAgICAgICAgICAgIHNlbGYub3B0aW9uTWF0ZXJpYWwucHVzaCh7DQogICAgICAgICAgICAgIGtleTogaW5kZXggKyAxLA0KICAgICAgICAgICAgICBtYXRlcmlhbF9pZDogZWxlLm1hdGVyaWFsX2lkLA0KICAgICAgICAgICAgICBtYXRlcmlhbF9uYW1lOiBlbGUubWF0ZXJpYWxfbmFtZSwNCiAgICAgICAgICAgICAgbWF0ZXJpYWxfdW5pdDogZWxlLnVuaXRfbmFtZSwNCiAgICAgICAgICAgICAgbWF0ZXJpYWxfYmFsYW5jZTogZWxlLm1hdGVyaWFsX2JhbGFuY2UsDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOw0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIGZpbHRlck9wdGlvbk1hdGVyaWFsKGlucHV0LCBvcHRpb24pIHsNCiAgICAgIHJldHVybiAoDQogICAgICAgIG9wdGlvbi5jb21wb25lbnRPcHRpb25zLmNoaWxkcmVuWzBdLnRleHQNCiAgICAgICAgICAudG9Mb3dlckNhc2UoKQ0KICAgICAgICAgIC5pbmRleE9mKGlucHV0LnRvTG93ZXJDYXNlKCkpID49IDANCiAgICAgICk7DQogICAgfSwNCiAgICBkZWxldGVSZWNvcmRtYXRlcmlhbChpbmRleCkgew0KICAgICAgdGhpcy5tYXRlcmlhbC5tYXRlcmlhbF9saXN0LnNwbGljZShpbmRleCwgMSk7DQogICAgfSwNCiAgICBTYXZlTWF0ZXJpYWwoKSB7DQogICAgICBjb25zdCBzZWxmID0gdGhpczsNCiAgICAgIGNvbnNvbGUubG9nKHNlbGYubWF0ZXJpYWwpOw0KICAgICAgYXhpb3MNCiAgICAgICAgLnBvc3QoDQogICAgICAgICAgc2VsZi4kc3RvcmUuc3RhdGUudXJsICsNCiAgICAgICAgICAgICIvUmVxdWlzaXRpb25PcmRlclJvdXRlcnMvaW5zZXJ0UmVxdWlzaXRpb25PcmRlciIsDQogICAgICAgICAgc2VsZi5tYXRlcmlhbA0KICAgICAgICApDQogICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlcykgew0KICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7DQogICAgICAgICAgc2VsZi4kcm91dGVyLmJhY2soKTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKGZ1bmN0aW9uKGVycikgew0KICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7DQogICAgICAgIH0pOw0KICAgIH0sDQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXRNYXRlcmlhbCgpOw0KICB9LA0KfTsNCg=="},{"version":3,"sources":["MDS_disbursement_form.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MDS_disbursement_form.vue","sourceRoot":"src/views/MDS/MDS_disbursement","sourcesContent":["<template>\r\n  <div id=\"reveal_form\">\r\n    <a-row :gutter=\"[8, 8]\" type=\"flex\" justify=\"center\">\r\n      <a-col :span=\"24\">\r\n        <a-card size=\"small\" title=\"ใบเบิกวัสดุ\">\r\n          <a-row :gutter=\"[8, 8]\" type=\"flex\" justify=\"center\">\r\n            <a-col :span=\"24\">หมายเหตุการเบิกวัสดุ </a-col>\r\n            <a-col :span=\"24\"\r\n              ><a-input\r\n                v-model=\"material.material_note\"\r\n                placeholder=\"วัตถุประสงค์การเบิกวัสดุ\"\r\n              />\r\n            </a-col>\r\n          </a-row>\r\n          <br />\r\n          <a-row :gutter=\"[8, 8]\" type=\"flex\" justify=\"center\">\r\n            <a-col :span=\"24\"> รายการเบิกวัสดุ</a-col>\r\n          </a-row>\r\n          <a-row :gutter=\"[8, 8]\" type=\"flex\" justify=\"center\">\r\n            <a-col :span=\"24\">\r\n              <a-table\r\n                :columns=\"columns_material\"\r\n                :data-source=\"material.material_list\"\r\n                :pagination=\"false\"\r\n                size=\"small\"\r\n                bordered\r\n              >\r\n                <span slot=\"key\" slot-scope=\"text, record, index\">\r\n                  <div :style=\"{ textAlign: 'center' }\">\r\n                    {{ index + 1 }}\r\n                  </div>\r\n                </span>\r\n                <span slot=\"material_name\" slot-scope=\"text, record, index\">\r\n                  <div :style=\"{ textAlign: 'center' }\">\r\n                    <a-select\r\n                      show-search\r\n                      v-model=\"material.material_list[index].material_id\"\r\n                      placeholder=\"ชื่อวัสดุ\"\r\n                      option-filter-prop=\"children\"\r\n                      style=\"width: 100%\"\r\n                      :filter-option=\"filterOptionMaterial\"\r\n                    >\r\n                      <a-select-option\r\n                        v-for=\"item in optionMaterial\"\r\n                        :key=\"item.key\"\r\n                        :value=\"item.material_id\"\r\n                        :disabled=\"\r\n                          material.material_list.find(\r\n                            (ele) => ele.material_id == item.material_id\r\n                          ) || item.material_balance == 0\r\n                        \"\r\n                      >\r\n                        {{ item.material_name }}\r\n                      </a-select-option>\r\n                    </a-select>\r\n                  </div>\r\n                </span>\r\n                <span slot=\"material_unit\" slot-scope=\"text, record, index\">\r\n                  <div :style=\"{ textAlign: 'center' }\">\r\n                    {{\r\n                      optionMaterial.findIndex(\r\n                        (ele) =>\r\n                          ele.material_id ===\r\n                          material.material_list[index].material_id\r\n                      ) != -1\r\n                        ? optionMaterial[\r\n                            optionMaterial.findIndex(\r\n                              (ele) =>\r\n                                ele.material_id ===\r\n                                material.material_list[index].material_id\r\n                            )\r\n                          ].material_unit\r\n                        : \"\"\r\n                    }}\r\n                  </div>\r\n                </span>\r\n                <span slot=\"material_balance\" slot-scope=\"text, record, index\">\r\n                  <div :style=\"{ textAlign: 'center' }\">\r\n                    {{\r\n                      optionMaterial.findIndex(\r\n                        (ele) =>\r\n                          ele.material_id ===\r\n                          material.material_list[index].material_id\r\n                      ) != -1\r\n                        ? optionMaterial[\r\n                            optionMaterial.findIndex(\r\n                              (ele) =>\r\n                                ele.material_id ===\r\n                                material.material_list[index].material_id\r\n                            )\r\n                          ].material_balance\r\n                        : \"\"\r\n                    }}\r\n                  </div>\r\n                </span>\r\n                <span slot=\"material_reveal\" slot-scope=\"text, record, index\">\r\n                  <div :style=\"{ textAlign: 'center' }\">\r\n                    <a-input-number\r\n                      style=\"width: 100%\"\r\n                      v-model=\"material.material_list[index].material_reveal\"\r\n                      :min=\"1\"\r\n                      :max=\"\r\n                        optionMaterial.findIndex(\r\n                          (ele) =>\r\n                            ele.material_id ===\r\n                            material.material_list[index].material_id\r\n                        ) != -1\r\n                          ? optionMaterial[\r\n                              optionMaterial.findIndex(\r\n                                (ele) =>\r\n                                  ele.material_id ===\r\n                                  material.material_list[index].material_id\r\n                              )\r\n                            ].material_balance\r\n                          : 1\r\n                      \"\r\n                      placeholder=\"จำนวนวัสดุที่ต้องการเบิก\"\r\n                    />\r\n                  </div>\r\n                </span>\r\n\r\n                <span slot=\"material_note\">\r\n                  <div :style=\"{ textAlign: 'center' }\">\r\n                    <a-input placeholder=\"ระบุหมายเหตุการเบิก\" />\r\n                  </div>\r\n                </span>\r\n\r\n                <span slot=\"action\" slot-scope=\"text, record, index\">\r\n                  <div :style=\"{ textAlign: 'center' }\">\r\n                    <a-tooltip placement=\"top\">\r\n                      <template slot=\"title\">\r\n                        <span>ลบข้อมูลวัสดุ</span>\r\n                      </template>\r\n                      <a-button\r\n                        :disabled=\"material.material_list.length == 1\"\r\n                        type=\"danger\"\r\n                        icon=\"close\"\r\n                        @click=\"deleteRecordmaterial(index)\"\r\n                      >\r\n                      </a-button>\r\n                    </a-tooltip>\r\n                  </div>\r\n                </span>\r\n              </a-table>\r\n            </a-col>\r\n          </a-row>\r\n          <a-row :gutter=\"[8, 8]\" type=\"flex\" justify=\"center\">\r\n            <a-col :span=\"24\">\r\n              <a-button\r\n                type=\"dashed\"\r\n                style=\"width:100%\"\r\n                icon=\"plus\"\r\n                @click=\"addRecordmaterial()\"\r\n                >เพิ่มรายการข้อมูล\r\n              </a-button>\r\n            </a-col>\r\n          </a-row>\r\n\r\n          <template slot=\"actions\" class=\"ant-card-actions\">\r\n            <a-row :gutter=\"[8, 8]\" type=\"flex\" justify=\"center\">\r\n              <a-col :span=\"12\" style=\"text-align:start\">\r\n                <a-button\r\n                  style=\"width:25%;margin:0px 1.5%\"\r\n                  icon=\"line\"\r\n                  @click=\"cancleConfirm()\"\r\n                  >กลับ\r\n                </a-button>\r\n              </a-col>\r\n              <a-col :span=\"12\" style=\"text-align:end\">\r\n                <a-button\r\n                  type=\"success\"\r\n                  style=\"width:25%;margin:0px 1.5%\"\r\n                  icon=\"save\"\r\n                  @click=\"SaveMaterial()\"\r\n                  >บันทึกการเพิ่มข้อมูล\r\n                </a-button>\r\n              </a-col>\r\n            </a-row>\r\n          </template>\r\n        </a-card>\r\n      </a-col>\r\n    </a-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"reveal_form\",\r\n  data() {\r\n    return {\r\n      columns_material: [\r\n        {\r\n          title: \"ลำดับ\",\r\n          dataIndex: \"key\",\r\n          key: \"key\",\r\n          width: \"5%\",\r\n          scopedSlots: {\r\n            customRender: \"key\",\r\n          },\r\n        },\r\n        {\r\n          title: \"วัสดุ\",\r\n          dataIndex: \"material_name\",\r\n          key: \"material_name\",\r\n          width: \"15%\",\r\n          scopedSlots: {\r\n            customRender: \"material_name\",\r\n          },\r\n        },\r\n        {\r\n          title: \"หน่วย\",\r\n          dataIndex: \"material_unit\",\r\n          key: \"material_unit\",\r\n          width: \"10%\",\r\n          scopedSlots: {\r\n            customRender: \"material_unit\",\r\n          },\r\n        },\r\n        {\r\n          title: \"จำนวนวัสดุ\",\r\n          children: [\r\n            {\r\n              title: \"จำนวนคงเหลือ\",\r\n              dataIndex: \"material_balance\",\r\n              key: \"material_balance\",\r\n              width: \"10%\",\r\n              scopedSlots: { customRender: \"material_balance\" },\r\n            },\r\n            {\r\n              title: \"จำนวนเบิก\",\r\n              dataIndex: \"material_reveal\",\r\n              key: \"material_reveal\",\r\n              width: \"10%\",\r\n              scopedSlots: { customRender: \"material_reveal\" },\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          title: \"หมายเหตุ\",\r\n          dataIndex: \"material_note\",\r\n          key: \"material_note\",\r\n          width: \"10%\",\r\n          scopedSlots: {\r\n            customRender: \"material_note\",\r\n          },\r\n        },\r\n        {\r\n          title: \"\",\r\n          dataIndex: \"action\",\r\n          key: \"action\",\r\n          width: \"5%\",\r\n          scopedSlots: { customRender: \"action\" },\r\n        },\r\n      ],\r\n      material: {\r\n        material_note: undefined,\r\n        material_list: [\r\n          {\r\n            key: 1,\r\n            material_id: undefined,\r\n            material_reveal: 1,\r\n            material_note: undefined,\r\n          },\r\n        ],\r\n        requisition_create_by: this.$store.state.user.user_id,\r\n      },\r\n      keymaterial_list: 2,\r\n      optionMaterial: [],\r\n    };\r\n  },\r\n  methods: {\r\n    addRecordmaterial() {\r\n      this.material.material_list.push({\r\n        key: this.keymaterial_list,\r\n        material_id: undefined,\r\n        material_reveal: 1,\r\n        material_note: undefined,\r\n      });\r\n      this.keymaterial_list++;\r\n    },\r\n    getMaterial() {\r\n      const self = this;\r\n      axios\r\n        .post(self.$store.state.url + \"/materialRouters/getMaterialOption\")\r\n        .then(function(res) {\r\n          console.log(res);\r\n          const data = res.data.results;\r\n          self.optionMaterial = [];\r\n          data.forEach(function(ele, index) {\r\n            self.optionMaterial.push({\r\n              key: index + 1,\r\n              material_id: ele.material_id,\r\n              material_name: ele.material_name,\r\n              material_unit: ele.unit_name,\r\n              material_balance: ele.material_balance,\r\n            });\r\n          });\r\n        })\r\n        .catch(function(error) {\r\n          console.log(error);\r\n        });\r\n    },\r\n    filterOptionMaterial(input, option) {\r\n      return (\r\n        option.componentOptions.children[0].text\r\n          .toLowerCase()\r\n          .indexOf(input.toLowerCase()) >= 0\r\n      );\r\n    },\r\n    deleteRecordmaterial(index) {\r\n      this.material.material_list.splice(index, 1);\r\n    },\r\n    SaveMaterial() {\r\n      const self = this;\r\n      console.log(self.material);\r\n      axios\r\n        .post(\r\n          self.$store.state.url +\r\n            \"/RequisitionOrderRouters/insertRequisitionOrder\",\r\n          self.material\r\n        )\r\n        .then(function(res) {\r\n          console.log(res);\r\n          self.$router.back();\r\n        })\r\n        .catch(function(err) {\r\n          console.log(err);\r\n        });\r\n    },\r\n  },\r\n  created() {\r\n    this.getMaterial();\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.steps-content {\r\n  margin-top: 16px;\r\n  border: 1px dashed #e9e9e9;\r\n  border-radius: 6px;\r\n  min-height: 200px;\r\n  padding: 20px;\r\n}\r\n\r\n.steps-action {\r\n  margin-top: 24px;\r\n  text-align: end;\r\n}\r\n</style>\r\n"]}]}