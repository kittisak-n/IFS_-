{"remainingRequest":"C:\\Users\\HIGH\\Desktop\\New_Git_INFS\\INFS_Front\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\HIGH\\Desktop\\New_Git_INFS\\INFS_Front\\src\\views\\PMS\\addposition.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\HIGH\\Desktop\\New_Git_INFS\\INFS_Front\\src\\views\\PMS\\addposition.vue","mtime":1616052285158},{"path":"C:\\Users\\HIGH\\Desktop\\New_Git_INFS\\INFS_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\HIGH\\Desktop\\New_Git_INFS\\INFS_Front\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\HIGH\\Desktop\\New_Git_INFS\\INFS_Front\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\HIGH\\Desktop\\New_Git_INFS\\INFS_Front\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpjb25zdCBheGlvcyA9IHJlcXVpcmUoImF4aW9zIik7DQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIFN5c3RlbTogW10sDQogICAgICBzdWJfU3lzdGVtOiBbXSwNCiAgICAgIHBvc2l0aW9uQWNjZXNzOiB7DQogICAgICAgIG5hbWVfcG9zaXRpb25hY2Nlc3M6ICIiLA0KICAgICAgICBjcmVhdGVfYnk6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlcl9pZCwNCiAgICAgIH0sDQogICAgICBzZWxlY3Rfc3lzdGVtOiBbDQogICAgICAgIHsNCiAgICAgICAgICBzeXN0ZW1faWQ6IG51bGwsDQogICAgICAgICAgc3ViX3N5c3RlbTogW10sDQogICAgICAgIH0sDQogICAgICBdLA0KICAgICAgY2hlY2tTZWxlY3Q6IHRydWUsDQogICAgfTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIC8vIHNob3dfc3lzdGVtKCkgew0KICAgIC8vICAgY29uc29sZS5sb2codGhpcy5zeXN0ZW0pOw0KICAgIC8vIH0sDQogICAgY2hlY2tTcGVjaWZpY0tleShkYXRhKSB7DQogICAgICB2YXIgc3BlY2lhbEtleSA9DQogICAgICAgICJbYH4hIyReJiooKT18e30nOjsnLFxcW1xcXS48Pi8/fu+8gSPvv6XigKbigKYmKu+8iO+8ieKAlOKAlHx7feOAkOOAkeKAmO+8m++8muKAneKAnCfjgILvvIzjgIHvvJ9d4oCYJyI7DQogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgaWYgKHNwZWNpYWxLZXkuaW5kZXhPZihkYXRhLnN1YnN0cihpLCAxKSkgIT0gLTEpIHsNCiAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgICAgaWYgKGRhdGFbaV0gPT0gIiAiKSB7DQogICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQogICAgICB9DQogICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9LA0KICAgIGFkZF9zZWxlY3Rfc3lzdGVtKCkgew0KICAgICAgdGhpcy5zZWxlY3Rfc3lzdGVtLnB1c2goew0KICAgICAgICBzeXN0ZW1faWQ6IG51bGwsDQogICAgICAgIHN1Yl9zeXN0ZW06IFtdLA0KICAgICAgfSk7DQogICAgfSwNCiAgICBwb3Bfc2VsZWN0X3N5c3RlbShpbmRleCkgew0KICAgICAgdGhpcy5zZWxlY3Rfc3lzdGVtLnNwbGljZShpbmRleCwgMSk7DQogICAgfSwNCg0KICAgIGFkZF9zdWJzeXN0ZW0oaW5kZXgpIHsNCiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzOw0KICAgICAgc2VsZi5zZWxlY3Rfc3lzdGVtW2luZGV4XS5zdWJfc3lzdGVtID0gW107DQogICAgICBzZWxmLnN1Yl9TeXN0ZW0uZm9yRWFjaChmdW5jdGlvbihlbGUsIGluZGV4X2VsZSkgew0KICAgICAgICBpZiAoc2VsZi5zZWxlY3Rfc3lzdGVtW2luZGV4XS5zeXN0ZW1faWQgPT0gZWxlLnN5c3RlbV9pZCkgew0KICAgICAgICAgIHNlbGYuc2VsZWN0X3N5c3RlbVtpbmRleF0uc3ViX3N5c3RlbS5wdXNoKHsNCiAgICAgICAgICAgIGtleTogaW5kZXhfZWxlICsgMSwNCiAgICAgICAgICAgIHN1Yl9zeXN0ZW1faWQ6IGVsZS5zdWJfc3lzdGVtX2lkLA0KICAgICAgICAgICAgc3ViX3N5c3RlbV9uYW1lOiBlbGUuc3ViX3N5c3RlbV9uYW1lLA0KICAgICAgICAgICAgc3lzdGVtX2lkOiBlbGUuc3lzdGVtX2lkLA0KICAgICAgICAgICAgc3RhdHVzOiBmYWxzZSwNCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfSk7DQogICAgICBjb25zb2xlLmxvZyhzZWxmLnNlbGVjdF9zeXN0ZW0pOw0KICAgIH0sDQogICAgZ2V0U3lzdGVtKCkgew0KICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7DQogICAgICBheGlvcw0KICAgICAgICAucG9zdChzZWxmLiRzdG9yZS5zdGF0ZS51cmwgKyAiL3N5c3RlbVJvdXRlcnMvZ2V0U3lzdGVtIikNCiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzKSB7DQogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsNCiAgICAgICAgICByZXMuZGF0YS5yZXN1bHRzLmZvckVhY2goZnVuY3Rpb24oZWxlLCBpbmRleCkgew0KICAgICAgICAgICAgbGV0IGRhdGEgPSB7DQogICAgICAgICAgICAgIGtleTogaW5kZXggKyAxLA0KICAgICAgICAgICAgICBzeXN0ZW1faWQ6IGVsZS5zeXN0ZW1faWQsDQogICAgICAgICAgICAgIHN5c3RlbV9uYW1lOiBlbGUuc3lzdGVtX25hbWVfVEgsDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgc2VsZi5TeXN0ZW0ucHVzaChkYXRhKTsNCiAgICAgICAgICB9KTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBnZXRTdWJTeXN0ZW0oKSB7DQogICAgICBjb25zdCBzZWxmID0gdGhpczsNCiAgICAgIGF4aW9zDQogICAgICAgIC5wb3N0KHNlbGYuJHN0b3JlLnN0YXRlLnVybCArICIvc3lzdGVtUm91dGVycy9nZXRTdWJTeXN0ZW0iKQ0KICAgICAgICAudGhlbihmdW5jdGlvbihyZXMpIHsNCiAgICAgICAgICByZXMuZGF0YS5yZXN1bHRzLmZvckVhY2goZnVuY3Rpb24oZWxlLCBpbmRleCkgew0KICAgICAgICAgICAgbGV0IGRhdGEgPSB7DQogICAgICAgICAgICAgIGtleTogaW5kZXggKyAxLA0KICAgICAgICAgICAgICBzdWJfc3lzdGVtX2lkOiBlbGUuc3ViX3N5c3RlbV9pZCwNCiAgICAgICAgICAgICAgc3ViX3N5c3RlbV9uYW1lOiBlbGUuc3ViX3N5c3RlbV9uYW1lX1RILA0KICAgICAgICAgICAgICBzeXN0ZW1faWQ6IGVsZS5zeXN0ZW1faWQsDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgc2VsZi5zdWJfU3lzdGVtLnB1c2goZGF0YSk7DQogICAgICAgICAgfSk7DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgc2F2ZVBvc2l0aW9uQXNzZXNzKCkgew0KICAgICAgY29uc29sZS5sb2codGhpcy5wb3NpdGlvbkFjY2Vzcy5uYW1lX3Bvc2l0aW9uYWNjZXNzKTsNCiAgICAgIGlmICghdGhpcy5jaGVja1NwZWNpZmljS2V5KHRoaXMucG9zaXRpb25BY2Nlc3MubmFtZV9wb3NpdGlvbmFjY2VzcykpIHsNCiAgICAgICAgdGhpcy4kbm90aWZpY2F0aW9uWyJ3YXJuaW5nIl0oew0KICAgICAgICAgIG1lc3NhZ2U6ICLguIHguLLguKPguYHguIjguYnguIfguYDguJXguLfguK3guJkiLA0KICAgICAgICAgIGRlc2NyaXB0aW9uOiAi4Lit4Lix4LiB4Lip4Lij4Lie4Li04LmA4Lio4Lip4LmB4Lil4Liw4LiK4LmI4Lit4LiH4Lin4LmI4Liy4LiH4LmE4Lih4LmI4Liq4Liy4Lih4Liy4Lij4LiW4LiB4Lij4Lit4LiB4LmE4LiU4LmJIiwNCiAgICAgICAgICBkdXJhdGlvbjogMywNCiAgICAgICAgfSk7DQogICAgICB9IGVsc2UgaWYgKHRoaXMucG9zaXRpb25BY2Nlc3MubmFtZV9wb3NpdGlvbmFjY2VzcyA9PSAiIikgew0KICAgICAgICB0aGlzLiRub3RpZmljYXRpb25bIndhcm5pbmciXSh7DQogICAgICAgICAgbWVzc2FnZTogIuC4iuC4t+C5iOC4reC4quC4tOC4l+C4mOC4tOC5jOC4geC4suC4o+C5gOC4guC5ieC4suC4luC4tuC4hyDguYTguKHguYjguYTguJTguYnguIHguKPguK3guIHguILguYnguK3guKHguLnguKUiLA0KICAgICAgICAgIGRlc2NyaXB0aW9uOiAi4LiB4Lij4Li44LiT4Liy4LiB4Lij4Lit4LiB4LiK4Li34LmI4Lit4Liq4Li04LiX4LiY4Li04LmM4LiB4Liy4Lij4LmA4LiC4LmJ4Liy4LiW4Li24LiHIiwNCiAgICAgICAgICBkdXJhdGlvbjogMywNCiAgICAgICAgfSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBjb25zdCBzZWxmID0gdGhpczsNCiAgICAgICAgbGV0IG9iaiA9IFtdOw0KICAgICAgICBzZWxmLnNlbGVjdF9zeXN0ZW0uZm9yRWFjaChmdW5jdGlvbihlbGUpIHsNCiAgICAgICAgICBpZiAoZWxlLnN1Yl9zeXN0ZW0ubGVuZ3RoID09IDApIHsNCiAgICAgICAgICAgIGxldCBkYXRhID0gew0KICAgICAgICAgICAgICBzeXN0ZW1faWQ6IGVsZS5zeXN0ZW1faWQsDQogICAgICAgICAgICAgIHN1Yl9zeXN0ZW1faWQ6IG51bGwsDQogICAgICAgICAgICB9Ow0KICAgICAgICAgICAgb2JqLnB1c2goZGF0YSk7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIGVsZS5zdWJfc3lzdGVtLmZvckVhY2goZnVuY3Rpb24oZWxlX3N1Yikgew0KICAgICAgICAgICAgICBpZiAoZWxlX3N1Yi5zdGF0dXMpIHsNCiAgICAgICAgICAgICAgICBsZXQgZGF0YSA9IHsNCiAgICAgICAgICAgICAgICAgIHN5c3RlbV9pZDogZWxlX3N1Yi5zeXN0ZW1faWQsDQogICAgICAgICAgICAgICAgICBzdWJfc3lzdGVtX2lkOiBlbGVfc3ViLnN1Yl9zeXN0ZW1faWQsDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgICAgICBvYmoucHVzaChkYXRhKTsNCiAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICAgICAgc2VsZi5jaGVja1NlbGVjdCA9IHRydWU7DQogICAgICAgIG9iai5mb3JFYWNoKGZ1bmN0aW9uKGVsZSkgew0KICAgICAgICAgIGlmIChlbGUuc3lzdGVtX2lkID09IG51bGwpIHsNCiAgICAgICAgICAgIHNlbGYuY2hlY2tTZWxlY3QgPSBmYWxzZTsNCiAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgICAgICBjb25zb2xlLmxvZyhzZWxmLmNoZWNrU2VsZWN0KTsNCg0KICAgICAgICBpZiAoc2VsZi5jaGVja1NlbGVjdCkgew0KICAgICAgICAgIHRoaXMuc2VudGRhdGEob2JqKTsNCiAgICAgICAgICB0aGlzLiRub3RpZmljYXRpb25bInN1Y2Nlc3MiXSh7DQogICAgICAgICAgICBtZXNzYWdlOiAi4LiB4Liy4Lij4LmB4LiI4LmJ4LiH4LmA4LiV4Li34Lit4LiZIiwNCiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAi4Lia4Lix4LiZ4LiX4Li24LiB4Liq4Liz4LmA4Lij4LmH4LiIIiwNCiAgICAgICAgICAgIGR1cmF0aW9uOiAzLA0KICAgICAgICAgIH0pOw0KICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogInBlcm1pc3Npb25fbWFuYWdlIiB9KTsNCiAgICAgICAgfSBlbHNlIGlmICghc2VsZi5jaGVja1NlbGVjdCkgew0KICAgICAgICAgIHRoaXMuJG5vdGlmaWNhdGlvblsid2FybmluZyJdKHsNCiAgICAgICAgICAgIG1lc3NhZ2U6ICLguIHguLLguKPguYHguIjguYnguIfguYDguJXguLfguK3guJkiLA0KICAgICAgICAgICAgZGVzY3JpcHRpb246ICLguIHguKPguLjguJPguLLguYDguKXguLfguK3guIHguKPguLDguJrguJoiLA0KICAgICAgICAgICAgZHVyYXRpb246IDMsDQogICAgICAgICAgfSk7DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIHNlbnRkYXRhKG9iaikgew0KICAgICAgY29uc29sZS5sb2cob2JqKTsNCiAgICAgIGNvbnN0IHNlbGYgPSB0aGlzOw0KICAgICAgYXhpb3MNCiAgICAgICAgLnBvc3QoDQogICAgICAgICAgc2VsZi4kc3RvcmUuc3RhdGUudXJsICsgIi9wb3NpdGlvbkFjY2Vzc1JvdXRlcnMvaW5zZXJ0UG9zaXRpb25BY2Nlc3MiLA0KICAgICAgICAgIHsgcG9zaXRpb25BY2Nlc3M6IHNlbGYucG9zaXRpb25BY2Nlc3MsIHN5c3RlbTogb2JqIH0NCiAgICAgICAgKQ0KICAgICAgICAudGhlbihmdW5jdGlvbihyZXMpIHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOw0KICAgICAgICB9KTsNCiAgICB9LA0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuZ2V0U3lzdGVtKCk7DQogICAgdGhpcy5nZXRTdWJTeXN0ZW0oKTsNCiAgfSwNCn07DQo="},{"version":3,"sources":["addposition.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addposition.vue","sourceRoot":"src/views/PMS","sourcesContent":["<template>\r\n  <div id=\"addposition\">\r\n    <a-row :gutter=\"[8, 8]\">\r\n      <a-col :span=\"24\">\r\n        <a-card>\r\n          <a-row :gutter=\"[8, 8]\" type=\"flex\">\r\n            <a-col :span=\"4\" style=\"text-align:end\">\r\n              ชื่อสิทธิ์การเข้าถึง :\r\n            </a-col>\r\n            <a-col :span=\"16\">\r\n              <a-input\r\n                style=\"width:100%\"\r\n                placeholder=\"โปรดกรอกชื่อตำแหน่ง\"\r\n                v-model=\"positionAccess.name_positionaccess\"\r\n              >\r\n              </a-input>\r\n            </a-col>\r\n          </a-row>\r\n          <br />\r\n          <a-row\r\n            :gutter=\"[8, 8]\"\r\n            type=\"flex\"\r\n            v-for=\"(ele, index) in select_system\"\r\n            :key=\"ele.system_id\"\r\n          >\r\n            <a-col :span=\"4\" style=\"text-align:end\">\r\n              ระบบหลัก :\r\n            </a-col>\r\n            <a-col :span=\"15\">\r\n              <a-row type=\"flex\">\r\n                <a-select\r\n                  style=\"width:100%\"\r\n                  v-model=\"select_system[index].system_id\"\r\n                  @change=\"add_subsystem(index)\"\r\n                >\r\n                  <a-select-option :value=\"null\" disabled>\r\n                    โปรดเลือกระบบ\r\n                  </a-select-option>\r\n                  <a-select-option\r\n                    v-for=\"item in System\"\r\n                    :key=\"item.key\"\r\n                    :value=\"item.system_id\"\r\n                  >\r\n                    {{ item.system_name }}\r\n                  </a-select-option>\r\n                </a-select>\r\n              </a-row>\r\n              <br />\r\n              <a-row v-if=\"select_system[index].system_id != null\">\r\n                <a-col :span=\"24\">\r\n                  <a-checkbox\r\n                    style=\"width:100%\"\r\n                    v-for=\"(ele_sub, index_sub) in select_system[index]\r\n                      .sub_system\"\r\n                    :key=\"ele_sub.key\"\r\n                    v-model=\"select_system[index].sub_system[index_sub].status\"\r\n                  >\r\n                    {{ ele_sub.sub_system_name }}\r\n                  </a-checkbox>\r\n                </a-col>\r\n              </a-row>\r\n            </a-col>\r\n            <a-col :span=\"1\">\r\n              <a-button\r\n                v-if=\"index == select_system.length - 1\"\r\n                type=\"primary\"\r\n                icon=\"plus\"\r\n                @click=\"add_select_system()\"\r\n              />\r\n              <a-button\r\n                v-if=\"index < select_system.length - 1\"\r\n                type=\"danger\"\r\n                icon=\"line\"\r\n                @click=\"pop_select_system(index)\"\r\n              />\r\n            </a-col>\r\n          </a-row>\r\n          <!-- <div v-if=\"this.system == 1\">\r\n            <a-row\r\n              :gutter=\"[8, 8]\"\r\n              type=\"flex\"\r\n              justify=\"center\"\r\n              v-for=\"item in IF_System\"\r\n              :key=\"item.id\"\r\n            >\r\n              <a-col :span=\"6\">\r\n                <a-checkbox v-if=\"item.status == 1\">\r\n                  {{ item.name }}\r\n                </a-checkbox>\r\n              </a-col>\r\n            </a-row>\r\n          </div>\r\n\r\n          <div v-if=\"this.system == 2\">\r\n            <a-row\r\n              :gutter=\"[8, 8]\"\r\n              type=\"flex\"\r\n              justify=\"center\"\r\n              v-for=\"item in IF_System\"\r\n              :key=\"item.id\"\r\n            >\r\n              <a-col :span=\"6\">\r\n                <a-checkbox v-if=\"item.status == 2\">\r\n                  {{ item.name }}\r\n                </a-checkbox>\r\n              </a-col>\r\n            </a-row>\r\n          </div> -->\r\n\r\n          <!-- <a-row\r\n            :gutter=\"[8, 8]\"\r\n            v-if=\"this.system == 2\"\r\n            type=\"flex\"\r\n            justify=\"center\"\r\n          >\r\n            <a-col :span=\"10\" v-for=\"item in IF_System\" :key=\"item.id\">\r\n              <a-checkbox v-if=\"item.status == 1\">\r\n                {{ item.name }}\r\n              </a-checkbox>\r\n            </a-col>\r\n          </a-row> -->\r\n\r\n          <!-- <div v-if=\"this.system == 2\">\r\n            <a-row :gutter=\"[8, 8]\" v-for=\"item in IF_System\" :key=\"item.id\">\r\n              <a-col :span=\"24\">\r\n                <a-checkbox v-if=\"item.status == 2\">\r\n                  {{ item.name }}\r\n                </a-checkbox>\r\n              </a-col>\r\n            </a-row>\r\n          </div> -->\r\n\r\n          <a-row :gutter=\"[8, 8]\">\r\n            <a-col :span=\"24\" style=\"text-align:center\">\r\n              <a-col :span=\"12\" style=\"text-align:right\">\r\n                <router-link :to=\"{ path: '/permission_manage' }\">\r\n                  <a-button>ยกเลิก</a-button>\r\n                </router-link>\r\n              </a-col>\r\n              <a-col :span=\"12\" style=\"text-align:left\">\r\n                <!-- <router-link :to=\"{ path: '/permission_manage' }\"> -->\r\n                <a-button type=\"primary\" @click=\"savePositionAssess()\">\r\n                  บันทึก\r\n                </a-button>\r\n                <!-- </router-link> -->\r\n              </a-col>\r\n            </a-col>\r\n          </a-row>\r\n        </a-card>\r\n      </a-col>\r\n    </a-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst axios = require(\"axios\");\r\nexport default {\r\n  data() {\r\n    return {\r\n      System: [],\r\n      sub_System: [],\r\n      positionAccess: {\r\n        name_positionaccess: \"\",\r\n        create_by: this.$store.state.user.user_id,\r\n      },\r\n      select_system: [\r\n        {\r\n          system_id: null,\r\n          sub_system: [],\r\n        },\r\n      ],\r\n      checkSelect: true,\r\n    };\r\n  },\r\n  methods: {\r\n    // show_system() {\r\n    //   console.log(this.system);\r\n    // },\r\n    checkSpecificKey(data) {\r\n      var specialKey =\r\n        \"[`~!#$^&*()=|{}':;',\\\\[\\\\].<>/?~！#￥……&*（）——|{}【】‘；：”“'。，、？]‘'\";\r\n      for (var i = 0; i < data.length; i++) {\r\n        if (specialKey.indexOf(data.substr(i, 1)) != -1) {\r\n          return false;\r\n        }\r\n        if (data[i] == \" \") {\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    },\r\n    add_select_system() {\r\n      this.select_system.push({\r\n        system_id: null,\r\n        sub_system: [],\r\n      });\r\n    },\r\n    pop_select_system(index) {\r\n      this.select_system.splice(index, 1);\r\n    },\r\n\r\n    add_subsystem(index) {\r\n      const self = this;\r\n      self.select_system[index].sub_system = [];\r\n      self.sub_System.forEach(function(ele, index_ele) {\r\n        if (self.select_system[index].system_id == ele.system_id) {\r\n          self.select_system[index].sub_system.push({\r\n            key: index_ele + 1,\r\n            sub_system_id: ele.sub_system_id,\r\n            sub_system_name: ele.sub_system_name,\r\n            system_id: ele.system_id,\r\n            status: false,\r\n          });\r\n        }\r\n      });\r\n      console.log(self.select_system);\r\n    },\r\n    getSystem() {\r\n      const self = this;\r\n      axios\r\n        .post(self.$store.state.url + \"/systemRouters/getSystem\")\r\n        .then(function(res) {\r\n          console.log(res);\r\n          res.data.results.forEach(function(ele, index) {\r\n            let data = {\r\n              key: index + 1,\r\n              system_id: ele.system_id,\r\n              system_name: ele.system_name_TH,\r\n            };\r\n            self.System.push(data);\r\n          });\r\n        });\r\n    },\r\n    getSubSystem() {\r\n      const self = this;\r\n      axios\r\n        .post(self.$store.state.url + \"/systemRouters/getSubSystem\")\r\n        .then(function(res) {\r\n          res.data.results.forEach(function(ele, index) {\r\n            let data = {\r\n              key: index + 1,\r\n              sub_system_id: ele.sub_system_id,\r\n              sub_system_name: ele.sub_system_name_TH,\r\n              system_id: ele.system_id,\r\n            };\r\n            self.sub_System.push(data);\r\n          });\r\n        });\r\n    },\r\n    savePositionAssess() {\r\n      console.log(this.positionAccess.name_positionaccess);\r\n      if (!this.checkSpecificKey(this.positionAccess.name_positionaccess)) {\r\n        this.$notification[\"warning\"]({\r\n          message: \"การแจ้งเตือน\",\r\n          description: \"อักษรพิเศษและช่องว่างไม่สามารถกรอกได้\",\r\n          duration: 3,\r\n        });\r\n      } else if (this.positionAccess.name_positionaccess == \"\") {\r\n        this.$notification[\"warning\"]({\r\n          message: \"ชื่อสิทธิ์การเข้าถึง ไม่ได้กรอกข้อมูล\",\r\n          description: \"กรุณากรอกชื่อสิทธิ์การเข้าถึง\",\r\n          duration: 3,\r\n        });\r\n      } else {\r\n        const self = this;\r\n        let obj = [];\r\n        self.select_system.forEach(function(ele) {\r\n          if (ele.sub_system.length == 0) {\r\n            let data = {\r\n              system_id: ele.system_id,\r\n              sub_system_id: null,\r\n            };\r\n            obj.push(data);\r\n          } else {\r\n            ele.sub_system.forEach(function(ele_sub) {\r\n              if (ele_sub.status) {\r\n                let data = {\r\n                  system_id: ele_sub.system_id,\r\n                  sub_system_id: ele_sub.sub_system_id,\r\n                };\r\n                obj.push(data);\r\n              }\r\n            });\r\n          }\r\n        });\r\n        self.checkSelect = true;\r\n        obj.forEach(function(ele) {\r\n          if (ele.system_id == null) {\r\n            self.checkSelect = false;\r\n          }\r\n        });\r\n        console.log(self.checkSelect);\r\n\r\n        if (self.checkSelect) {\r\n          this.sentdata(obj);\r\n          this.$notification[\"success\"]({\r\n            message: \"การแจ้งเตือน\",\r\n            description: \"บันทึกสำเร็จ\",\r\n            duration: 3,\r\n          });\r\n          this.$router.push({ path: \"permission_manage\" });\r\n        } else if (!self.checkSelect) {\r\n          this.$notification[\"warning\"]({\r\n            message: \"การแจ้งเตือน\",\r\n            description: \"กรุณาเลือกระบบ\",\r\n            duration: 3,\r\n          });\r\n        }\r\n      }\r\n    },\r\n    sentdata(obj) {\r\n      console.log(obj);\r\n      const self = this;\r\n      axios\r\n        .post(\r\n          self.$store.state.url + \"/positionAccessRouters/insertPositionAccess\",\r\n          { positionAccess: self.positionAccess, system: obj }\r\n        )\r\n        .then(function(res) {\r\n          console.log(res);\r\n        });\r\n    },\r\n  },\r\n  created() {\r\n    this.getSystem();\r\n    this.getSubSystem();\r\n  },\r\n};\r\n</script>\r\n\r\n<style></style>\r\n"]}]}